<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S&P 500 Correlation Dashboard</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/prop-types@15.8.1/prop-types.min.js"></script>
    <script src="https://unpkg.com/recharts@2.12.7/umd/Recharts.js"></script>
    
    <style>
        body { 
            margin: 0; 
            background-color: #0a0d12; 
            color: #e2e4e9; 
            font-family: 'JetBrains Mono', monospace; 
            overflow-x: hidden;
        }
        #root { min-height: 100vh; }

        /* Dynamic Container */
        .dashboard-container { 
            width: 100%; 
            max-width: 1600px; 
            margin: 0 auto; 
            padding: 2vw; 
            box-sizing: border-box; 
        }

        /* Responsive Legend Grid */
        .footer-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: 24px; 
            margin-top: 30px; 
        }

        .chart-wrapper {
            background: #0e1117; 
            border: 1px solid #181d28; 
            border-radius: 12px; 
            padding: 20px 12px 12px 0; 
            margin-bottom: 20px;
            width: 100%;
        }

        button { cursor: pointer; transition: all 0.2s; }
        button:hover { opacity: 0.8; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" src="correlation_full.jsx"></script>

    <script type="text/babel">
        // Helper to wrap the dashboard in our dynamic container
        const App = () => (
            <div className="dashboard-container">
                {typeof CorrelationDashboard !== 'undefined' ? 
                    <CorrelationDashboard /> : 
                    <div style={{padding: '50px', textAlign: 'center'}}>Loading Dynamic Dashboard Assets...</div>
                }
            </div>
        );

        // Render with a small delay to ensure the JSX file is processed
        setTimeout(() => {
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(<App />);
        }, 300);
    </script>
</body>
</html>
